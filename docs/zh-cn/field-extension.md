# 字段扩展

查询或汇总数据时经常需要在指定字段里的提取某部分数据进行查询或汇总, 例如从时间字段提取日期进行统计, 可以使用字段的方法或属性完成. 另外数字型字段支持使用`+`(加法)`-`(减法)`*`(乘法)`/`(除法)`%`(求余), 字符串类型支持使用`+`(连接)做字符串拼接.

## 时间方法

| 方法 | 说明 |
|:------|:------|
| ToString(string format) | 格式化的日期字符串, 如`yyyy-MM-dd` |

| 属性 | 说明 |
|:------|:------|
| Date | 日期部分 |
| Year | 时间中的年部分 |
| Month | 时间中的月部分 |
| Day | 时间中的日部分 |
| Hour | 时间中的时部分 |
| Minute | 时间中的分部分 |
| Second | 时间中的秒部分 |
| Week | 时间中的周部分(不同数据库定义可能不一致) |
| DayOfWeek | 时间为当周第几天 |
| DayOfYear | 时间为当年第几天 |

## 字符串方法

| 方法 | 说明 |
|:------|:------|
| Substring(int index, int length) | 截取字符串 |
| IndexOf(int value, int index) | 获取字符串位置 |
| Replace(string oldString, string newString) | 替换字符串 |
| ToLower() | 转换小写 |
| ToUpper() | 转换大写 |
| Trim() | 清空前后空格 |
| Concat(object obj1,object obj2,object obj3...) | 静态方法, 连接字符串 |

| 属性 | 说明 |
|:------|:------|
| Length | 字符串长度 |

## 数学方法

| 方法 | 说明 |
|:------|:------|
| Abs | 绝对值 |
| Sign | 指示数字符号的整数。 |
| Sin | 正弦值 |
| Cos | 余弦值 |
| Tan | 正切值 |
| Atan | 反正切值 |
| ASin | 反正弦值 |
| ACos | 反余弦值 |
| Atan2 | 正切值为两个指定数字的商的角度。 |
| Ceiling | 将数字向上舍入为最接近的整数 |
| Floor | 将数字向下舍入为最接近的整数 |
| Round | 四舍五入为最接近的整数 |
| Truncate | 计算一个数字的整数部分 |
| Log | 返回指定数字的对数 |
| Log10 | 返回指定数字以 10 为底的对数 |
| Exp | 计算指数值 |
| Pow | 计算x 的y 次方 |
| Sqrt | 返回指定数字的平方根 |
| Max | 返回两个数字中较大的一个 |
| Min | 返回两个整数中较小的一个 |